# РПЗ к курсовой работе

Нагдимаев Ильягу

## 1. Тема и целевая аудитория

<B>ТикТок</B> — сервис для создания и просмотра коротких видео, принадлежащий пекинской компании «ByteDance».

### MVP

1. Регистрация/авторизация
2. Публикация видео
3. Просмотр ленты
4. Лайки/комментарии

### Целевая аудитория

По состоянию на февраль 2021 года **MAU** =  1,1 млрд. Распределение по возрасту: 

  **Возраст 10-19 - 32,5%**\
  **Возраст 20-29 - 29,5%**\
  **Возраст 30-39 - 16,4%**\
  **Возраст 40-49 - 13,9%**\
  **Возраст 50+ - 7,1%**

  ([Источник](https://logotip.online/blog/statistika-tiktok/))

## 2. Расчет нагрузки

**DAU** можно с уверенностью считать 50%([Источник](http://appbrain.ru/osnovnyie-metriki-effektivnosti-mobilnoy-reklamyi/)) от **MAU**. Таким образом **DAU** = 1100 * 0.5 = 550 млн. человек.

Среднее время пользования приложением за день(информация за конец 2021 год) = 80 мин. ([Источник](https://www.theverge.com/interface/2020/6/10/21285309/tiktok-2020-user-numbers-revenue-smash-hit-mea-culpa))

Для получения данных о количестве запросов, я потратил 10 минут в приложении и собрал статистику о работе приложения(.har файл).

За 10 минут было отправлено **1266** запросов(82,3 МБ): 33 за видео(67,2 МБ), 827 за статиткой(11,3 МБ), 406 за бизнес-логикой(3,8 МБ).

Таким образом среднее количество запросов в секунду равно:

```
1266 / (10 * 60) * 18 300 000 / (24 * 60 * 60) = 446 RPS
```

На одного пользователя потребляется (82,3 * 8) / (10 * 60) = **1,1** Мбит/с 

Нагрузка пользователя в секунду | Сеть 
---                             | ---
Видео                           | (67,2 * 8) / (10 * 60) = **0,9** Мбит / с 
Статика                         | (11,3 * 8) / (10 * 60) = **0,15** Мбит / с 
Бизнес-логика                   | (3,8 * 8) / (10 * 60) = **0,05** Мбит / с

Нагрузка пользователя в день    | Сеть 
---                             | ---
Видео                           | 0,9 * 40 * 60 = **2160** Мбит
Статика                         | 0,15 * 40 * 60 = **360** Мбит
Бизнес-логика                   | 0,05 * 40 * 60 = **120** Мбит

Нагрузка дневной аудитории      | Сеть 
---                             | ---
Видео                           | (2160 * 18 300 000) / (24 * 60 * 60) = **446** Гбит
Статика                         | (360 * 18 300 000) / (24 * 60 * 60) = **74** Гбит
Бизнес-логика                   | (120 * 18 300 000) / (24 * 60 * 60) = **24** Гбит

### Расчет загружаемых видео

Средний размер видео = 67,2 МБ / 33 = 2,03 МБайт. За месяц пользователи загружают 20 млн видео([Источник](https://news.cpa.ru/tiktok-showed-audience-statistics/)). Таким образом за один месяц пользователи загрузят видео на 2,03 МБ * 20 млн = 38,7 ТБайт.